name: Environment Testing Workflow
on:
  push:
    branches:
      - master
      - develop
  workflow_dispatch:
    inputs:
      environment:
        description: "The environment to deploy to"
        required: true
        default: "develop"
        type: choice
        options:
          - develop
          - staging
          - production
jobs:
  deploy:
    runs-on: ubuntu-latest
    environment: ${{ inputs.environment || (github.ref_name == 'master' && 'production' || 'development') }}
    steps:
      - name: Show Environment
        run: |
          echo ${{ vars.TEST }}
          echo ${{ env.SSH_GITHUB_REPOSITORY }}
          echo $GITHUB_REPOSITORY
        env:
          SSH_GITHUB_REPOSITORY: "git@github.com:${GITHUB_REPOSITORY}.git"
